<!DOCTYPE html>
<html>
<head>
  <title>{% block title %}Nicayne Metal Processing OS{% endblock %}</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="{{ url_for('static', filename='nmp-style.css') }}">
  {% block extra_head %}{% endblock %}
</head>
<body>
  <!-- Header with Company Name -->
  <header class="nmp-header">
    <div class="container-fluid">
      <div class="nmp-title-section">
        <div class="nmp-title">Nicayne Metal Processing OS</div>
      </div>
      
      <!-- Navigation Tabs -->
      <nav class="nmp-nav">
        <div class="nmp-nav-item">
          <a href="/dashboard" class="nmp-nav-link nmp-nav-home">Home</a>
        </div>
        
        <div class="nmp-nav-item nmp-dropdown">
          <div class="nmp-dropdown-toggle">Work Orders</div>
          <div class="nmp-dropdown-menu">
            <div class="nmp-dropdown-header">Work Order Management</div>
            <a href="/work-order-form" class="nmp-dropdown-item">Create Work Order</a>
            <a href="/work-order-history" class="nmp-dropdown-item">Work Order History</a>
            <a href="/work-order-form?test=true" class="nmp-dropdown-item">Test Form (Pre-filled)</a>
          </div>
        </div>

        <div class="nmp-nav-item nmp-dropdown">
          <div class="nmp-dropdown-toggle">Finished Tags</div>
          <div class="nmp-dropdown-menu">
            <div class="nmp-dropdown-header">Tag Management</div>
            <a href="/finished-tag" class="nmp-dropdown-item">Create Finished Tag</a>
            <a href="/finished-tags-archive" class="nmp-dropdown-item">Tag Archive</a>
          </div>
        </div>

        <div class="nmp-nav-item nmp-dropdown">
          <div class="nmp-dropdown-toggle">BOL Processing</div>
          <div class="nmp-dropdown-menu">
            <div class="nmp-dropdown-header">Document Processing</div>
            <a href="/bol-extractor" class="nmp-dropdown-item">BOL Extractor</a>
            <a href="/bol-generator" class="nmp-dropdown-item">BOL Generator</a>
            <a href="/upload-signed-bol" class="nmp-dropdown-item">Upload Signed BOL</a>
            <a href="/bol-history" class="nmp-dropdown-item">BOL History</a>
            <a href="/manual-upload" class="nmp-dropdown-item">Manual Upload</a>
            <a href="/history" class="nmp-dropdown-item">Processing History</a>
            <a href="/suppliers" class="nmp-dropdown-item">Supplier Management</a>
          </div>
        </div>

        <div class="nmp-nav-item nmp-dropdown">
          <div class="nmp-dropdown-toggle">Quotes</div>
          <div class="nmp-dropdown-menu">
            <div class="nmp-dropdown-header">Quote Management</div>
            <a href="/quotes" class="nmp-dropdown-item">Dashboard</a>
            <a href="/quotes/form" class="nmp-dropdown-item">Create Quote</a>
          </div>
        </div>

        <div class="nmp-nav-item">
          <a href="/purchase-orders" class="nmp-nav-link">Purchase Orders</a>
        </div>

        <div class="nmp-nav-item nmp-dropdown">
          <div class="nmp-dropdown-toggle">System</div>
          <div class="nmp-dropdown-menu">
            <div class="nmp-dropdown-header">User Management</div>
            <a href="/user-directory" class="nmp-dropdown-item">User Directory</a>
            <a href="/user-admin" class="nmp-dropdown-item">User Administration</a>
            <a href="/create-user" class="nmp-dropdown-item">Create New User</a>
            <div class="nmp-dropdown-header">System Administration</div>
            <a href="/invoices" class="nmp-dropdown-item">Invoices</a>
            <a href="/generate-invoice" class="nmp-dropdown-item">Invoice Generator</a>
            <a href="/audit-invoice-integrity" class="nmp-dropdown-item">Audit Invoice Data</a>
            <a href="/control" class="nmp-dropdown-item">Control Panel</a>
            <a href="/health-status" class="nmp-dropdown-item">Health Check</a>
            <a href="/download-backup" class="nmp-dropdown-item">Download Backup</a>
          </div>
        </div>
      </nav>
    </div>
  </header>

  <main class="nmp-main">
    <!-- Flash Messages -->
    {% with messages = get_flashed_messages() %}
      {% if messages %}
        <div class="nmp-alert nmp-alert-success">
          {{ messages[0] }}
        </div>
      {% endif %}
    {% endwith %}

    {% block content %}{% endblock %}
  </main>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  {% block extra_scripts %}{% endblock %}
</body>
</html>